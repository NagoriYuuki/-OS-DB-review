# OS笔记


### 冯诺依曼模型

#### 1.内存:

内存基本单位是字节，1字节=8位(bit)，每一个字节都对应了一个内存地址;
内存的地址是从0开始的连续整数编号，尾地址编号为内存大小-1;

#### 2.CPU:

CPU的32位和64位指的是CPU的位宽，代表着一次能计算多大的数据;
CPU的常见部件为寄存器、控制单元、逻辑运算单元等。
- 寄存器：分为多种寄存器，主要作用是存储计算时的临时数据，分为通用寄存器、指令寄存器、程序计数器等：
- 通用寄存器：存储用来计算的数据
    - 指令寄存器：存储当前正在执行的指令，也就是指令本身
    - 程序计数器：存储下一条将要执行的指令的地址，但是指令本身还在内存中
- 控制单元：负责控制CPU工作
- 逻辑运算单元：负责算数逻辑运算

#### 3.总线:

总线用于CPU跟内存以及其他部件进行通信，主要分为三种类型:
- 地址总线：用于指定CPU将要操作的内存地址
- 控制总线：用于发送和接受信号
- 数据总线：用于CPU读写内存的数据
    - 例如：CPU要从内存中读取数据，经历的过程是：  
        1.CPU通过地址总线来指定要读取的内存地址  
        2.通过控制总线发送CPU的控制信号  
        3.内存通过数据总线向CPU传输数据

#### 4.输入输出设备:
输入输出设备用于实现计算机与外界进行交互，输入设备将数据输入给计算机，计算机在进行计算之后将数据通过输出设备输出给外界。

### 线路位宽和CPU位宽:

1.低电压代表0，高电压代表1;
2.数据是以1bit为单位进行轮流传输的，这样被称作串行传输：
    - 可以通过增加线路的数量来提高传输速度，这样被称作并行传输。
3.线路位宽代表的是一次能传输多少位数据，一般线路位宽最好>=内存地址，否则就会出现寻址失效的情况，需要更多的开销来记录地址的顺序，再拼接地址。
4.CPU的位宽代表的是CPU一次能处理多少位数据，一般CPU位宽最好>=线路位宽，否则会出现数据传输不完整的情况，需要更多的开销来分多次传输数据，再拼接数据。
    - CPU位宽越大并不代表性能一定越好，例如64位CPU在处理<=32位数据的时候与32位CPU的性能表现差异不大，而实际环境很少会出现处理>32位数据的情况。

### CPU执行程序的基本过程::

1.CPU通过程序计数器获取下一条指令的地址，然后CPU的控制单元控制地址总线指定要操作的内存，内存中的数据通过数据总线传输到CPU的指令寄存器中;
2.程序计数器自增，指向下一条指令的地址，自增的大小取决于指令的长度，例如32位系统中一般指令长度为4字节，则程序计数器自增4;
3.CPU分析指令寄存器中的指令，确定指令的类型和参数，如果是计算类型的指令则把指令交给逻辑运算单元进行计算，如果是存储类型的指令则交给控制单元进行执行;(?)